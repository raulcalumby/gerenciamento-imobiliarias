{% extends "base/base.html" %}

{% block container %}

<div class="container">
    <div class="col-md-12 col-sm-12">
        <div class="card card-custom">
            <div class="card-header">
                <div class="card-title">
                    <span class="card-icon">
                    <span class="svg-icon svg-icon-success svg-icon-2x"><!--begin::Svg Icon | path:C:\wamp64\www\keenthemes\themes\metronic\theme\html\demo1\dist/../src/media/svg/icons\Communication\Clipboard-list.svg-->
                        <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="24px" height="24px" viewBox="0 0 24 24" version="1.1">
                            <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
                                <rect x="0" y="0" width="24" height="24"/>
                                <path d="M4,4 L20,4 C21.1045695,4 22,4.8954305 22,6 L22,18 C22,19.1045695 21.1045695,20 20,20 L4,20 C2.8954305,20 2,19.1045695 2,18 L2,6 C2,4.8954305 2.8954305,4 4,4 Z" fill="#000000" opacity="0.3"/>
                                <path d="M18.5,11 L5.5,11 C4.67157288,11 4,11.6715729 4,12.5 L4,13 L8.58578644,13 C8.85100293,13 9.10535684,13.1053568 9.29289322,13.2928932 L10.2928932,14.2928932 C10.7456461,14.7456461 11.3597108,15 12,15 C12.6402892,15 13.2543539,14.7456461 13.7071068,14.2928932 L14.7071068,13.2928932 C14.8946432,13.1053568 15.1489971,13 15.4142136,13 L20,13 L20,12.5 C20,11.6715729 19.3284271,11 18.5,11 Z" fill="#000000"/>
                                <path d="M5.5,6 C4.67157288,6 4,6.67157288 4,7.5 L4,8 L20,8 L20,7.5 C20,6.67157288 19.3284271,6 18.5,6 L5.5,6 Z" fill="#000000"/>
                            </g>
                        </svg>
                        <!--end::Svg Icon--></span>
                    </span>
                    <h3 class="card-label">Recibos</h3>
                </div>
                <div class="card-toolbar">
                    <!--begin::Button-->
                 
                    <!--end::Button-->
                </div>
            </div>

            <div class="card-body">
                <div class="form">
                    <div class="form-group row">          
                        <div class="col-md-3">
                          <label class="">Selecione o locatário*:</label>
                          <select  class="form-control select2 imoveis" placeholder="Selecione" id="locatarios" onchange="searchQueryDt()" ></select>
                        </div> 
                        <div class="col-md-3">
                            <label>Data:</label>
                            <input type="month" id="search_date"  class="serch_input form-control form-control-solid form-control-md" placeholder=""  onchange="searchQueryDt()"/>
                        </div>  
                        <div class="col-md-3 ml-auto d-none" id="openAdd">
                             <label>&nbsp;</label><br>
                            <a  type="button" class="btn btn-success" data-toggle="modal" onclick="openModal()" >
                            <i class="la la-plus"></i>Cadastrar Recibos</a>
                        </div>                                              
                    </div>                  
                </div>
                <!--begin: Datatable-->
                <table class="table table-bordered table-hover table-checkable" id="kt_datatable" style="margin-top: 13px !important">
                    <thead>

                        <tr>                            
                            <th>Mês/Ano</th>
                            <th>Descrição</th>
                            <th>Valor</th>                              
                            <th>Ação</th>
                        </tr>
                        
                    </thead>
                    <tbody>
                    </tbody>
                </table>
                <!--end: Datatable-->
            </div>
        </div>
        <!--end::Card-->
    </div>
</div>
<!--Modal ADD/EDIT -->
<div class="modal fade" id="addRecibo" tabindex="-1" role="dialog" aria-labelledby="addRecibo" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered " role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="exampleModalLabel">Adicionar/Editar Recibo</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <i aria-hidden="true" class="ki ki-close"></i>
                </button>
            </div>
                 <!-- FORM  -->
            <form class="form" id="add" method="post" action="../../../../../api/recibos/add">
                <input type="hidden" id="locacao_id">
                    <div class="modal-body" id="reciboModal">
                        <!-- <div class="form-group row">
                             <label >Selecione o Imóvel</label>
                            <select required class="select2 form-control imoveis " id="imoveis" name="imovel_id"><select>                         
                        </div>
                        <div class="form-group row">                                                 
                            <label >Mês/Ano</label>
                            <input required type="month" class="form-control" id="data"  name="data">                                                                  
                        </div> -->
                        <div class="form-group row">
                            <label for="exampleTextarea">Descrição</label>
                            <textarea class="form-control"  rows="2" name="descricao" id="descricao"></textarea>
                        </div>
                        <div class="form-group row ">                                               
                            <label for="valor">Valor</label>
                            <input required type="text" class="money form-control" id="valor" name="valor">                           
                        </div>
                    </div>  
                    <div class="modal-footer">
                        <button type="button" class="btn btn-light-primary font-weight-bold" data-dismiss="modal">Fechar</button>
                        <button  class="btn btn-success font-weight-bold">Salvar</button>
                    </div>                
            </form>
        </div>
    </div>
</div>
{% endblock %}
{% block link_stylesheet %}
    <link rel="stylesheet" href="https://cdn.datatables.net/1.10.22/css/dataTables.bootstrap4.min.css">
    <link rel="stylesheet" href="https://cdn.datatables.net/responsive/2.2.6/css/responsive.bootstrap4.min.css">
{% endblock %}
{% block extra_js_config %}
    <!--begin::Page Vendors(used by this page)-->
    <script src="assets/plugins/custom/datatables/datatables.bundle.js?v=7.0.5"></script>
    <!--end::Page Vendors-->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.5.2/js/bootstrap.min.js"></script>
    <script src="https://cdn.datatables.net/1.10.22/js/dataTables.bootstrap4.min.js"></script>
    <script src="https://cdn.datatables.net/responsive/2.2.6/js/dataTables.responsive.min.js"></script>
    <script src="https://cdn.datatables.net/responsive/2.2.6/js/responsive.bootstrap4.min.js"></script>

    <script src="assets/js/pages/custom/recibos/main.js"></script>
    <script src="assets/js/pages/custom/recibos/list.js"></script>
    <script src="assets/js/pages/custom/recibos/add.js"></script>
    <script src="assets/js/pages/custom/maskmoney/jquery.maskMoney.min.js"></script>
    <script>$(".money").maskMoney({allowNegative: false, thousands:'.', decimal:',', affixesStay: false});</script>
    <!--end::Page Scripts-->
{% endblock %}
