{% extends "base/base.html" %}

{% block container %}
<div class="container">
    <div class="col-md-12 col-sm-12">
        <div class="card card-custom">
            <div class="card-header">
                <div class="card-title">
                    <span class="card-icon">
                        <span class="svg-icon svg-icon-success svg-icon-2x">
                           <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="24px" height="24px" viewBox="0 0 24 24" version="1.1">
                            <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
                                <rect x="0" y="0" width="24" height="24"/>
                                <path d="M4,4 L11.6314229,2.5691082 C11.8750185,2.52343403 12.1249815,2.52343403 12.3685771,2.5691082 L20,4 L20,13.2830094 C20,16.2173861 18.4883464,18.9447835 16,20.5 L12.5299989,22.6687507 C12.2057287,22.8714196 11.7942713,22.8714196 11.4700011,22.6687507 L8,20.5 C5.51165358,18.9447835 4,16.2173861 4,13.2830094 L4,4 Z" fill="#000000" opacity="0.3"/>
                                <path d="M12,11 C10.8954305,11 10,10.1045695 10,9 C10,7.8954305 10.8954305,7 12,7 C13.1045695,7 14,7.8954305 14,9 C14,10.1045695 13.1045695,11 12,11 Z" fill="#000000" opacity="0.3"/>
                                <path d="M7.00036205,16.4995035 C7.21569918,13.5165724 9.36772908,12 11.9907452,12 C14.6506758,12 16.8360465,13.4332455 16.9988413,16.5 C17.0053266,16.6221713 16.9988413,17 16.5815,17 C14.5228466,17 11.463736,17 7.4041679,17 C7.26484009,17 6.98863236,16.6619875 7.00036205,16.4995035 Z" fill="#000000" opacity="0.3"/>
                            </g>
                            </svg>
                        </span>
                    </span>
                    <h3 class="card-label">Editar {{singular_name}} </h3>
                </div>
                <div class="card-toolbar">
                    <!--begin::Button-->
                    <a href="../../../../../proprietarios" class="mr-2 btn btn-success font-weight-bolder">
                        <i class="far fa-list-alt"></i>Listar Proprietários
                    </a>
                </div>
            </div>
            <!-- FORM EDIT CADASTRO DE PROPIETARIOS -->
            <form class="form" id="edit" method="post" action="../../../../../api/proprietarios/{{proprietarios_id}}/update">
                <input type="hidden" id="proprietario_id" value="{{proprietarios_id}}">                
                <div class="card-body">

                    <div class="row">
                        <div class="col-md-3">
                            <div class="form-group">
                                <label> Dia do depósito:</label>
                                <select type="number" class="form-control form-control-solid form-control-lg" name="dia_deposito" id="dia_deposito">
                                    <option {%if dia_deposito == '01' %} selected {%endif%} value="01">01</option>
                                    <option {%if dia_deposito == '05' %} selected {%endif%} value="05">05</option>
                                    <option {%if dia_deposito == '10' %} selected {%endif%} value="10">10</option>
                                    <option {%if dia_deposito == '15' %} selected {%endif%} value="15">15</option>
                                    <option {%if dia_deposito == '20' %} selected {%endif%} value="20">20</option>
                                    <option {%if dia_deposito == '25' %} selected {%endif%} value="25">25</option>
                                </select>                          
                            </div>
                        </div>
                    </div>

                    <div class="row">
                        <div class="col-md-4">
                            <div class="form-group">
                                <label> Nome Completo:</label>
                                <input  type="text" class="form-control form-control-solid form-control-lg" name="nome_completo" id="nome_completo" value="{{nome_completo}}" />
                            </div>
                        </div>
                        <div class="col-md-4">
                            <div class="form-group">
                                <label>CPF:</label>
                                <input  type="text" class=" cpf form-control form-control-solid form-control-lg" name="cpf" id="cpf" value="{{cpf}}" />
                            </div>
                        </div>
                        <div class="col-md-4">
                            <div class="form-group">
                                <label>Taxa de administração:</label>
                                <input  type="text" class="money form-control form-control-solid form-control-lg" name="taxa" id="taxa" value="{{taxa}}" />
                            </div>
                        </div>
                    </div> 

                    <div class="row">
                        <div class="col-md-9">
                            <div class="form-group">
                                <label> Endereço:</label>
                                <input  type="text" class="form-control form-control-solid form-control-lg" name="endereco" id="endereco" value="{{endereco}}" />
                            </div>
                        </div>
                        <div class="col-md-3">
                            <div class="form-group">
                                <label> Numero:</label>
                                <input type="text" class="form-control form-control-solid form-control-lg" name="numero_endereco" id="numero_endereco" value="{{numero_endereco}}" />
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="form-group">
                                <label>Bairro:</label>
                                <input  type="text" class="form-control form-control-solid form-control-lg" name="bairro" id="bairro" value="{{bairro}}" />
                            </div>
                        </div>
                        <div class="form-group col-md-4">
                            <label class="">Cidade:</label>
                            <input class="form-control form-control-solid form-control-lg " type="text" id="cidade" onkeyup="searchQueryDt()" name="cidade" value="{{cidade}}">
                          </div>
                          <div class="form-group col-md-2">
                            <label class="">UF:</label>
                            <select id="uf" class="form-control form-control-solid form-control-lg" placeholder="Selecione" name="estado">
                                <option {{ estado == "AC" ? 'selected="selected"': '' }} value="AC">AC</option>
                                <option {{ estado == "AL" ? 'selected="selected"': '' }} value="AL">AL</option>
                                <option {{ estado == "AP" ? 'selected="selected"': '' }} value="AP">AP</option>
                                <option {{ estado == "AM" ? 'selected="selected"': '' }} value="AM">AM</option>
                                <option {{ estado == "BA" ? 'selected="selected"': '' }} value="BA">BA</option>
                                <option {{ estado == "CE" ? 'selected="selected"': '' }} value="CE">CE</option>
                                <option {{ estado == "DF" ? 'selected="selected"': '' }} value="DF">DF</option>
                                <option {{ estado == "ES" ? 'selected="selected"': '' }} value="ES">ES</option>
                                <option {{ estado == "GO" ? 'selected="selected"': '' }} value="GO">GO</option>
                                <option {{ estado == "MA" ? 'selected="selected"': '' }} value="MA">MA</option>
                                <option {{ estado == "MT" ? 'selected="selected"': '' }} value="MT">MT</option>
                                <option {{ estado == "MS" ? 'selected="selected"': '' }} value="MS">MS</option>
                                <option {{ estado == "MG" ? 'selected="selected"': '' }} value="MG">MG</option>
                                <option {{ estado == "PA" ? 'selected="selected"': '' }} value="PA">PA</option>
                                <option {{ estado == "PB" ? 'selected="selected"': '' }} value="PB">PB</option>
                                <option {{ estado == "PR" ? 'selected="selected"': '' }} value="PR">PR</option>
                                <option {{ estado == "PE" ? 'selected="selected"': '' }} value="PE">PE</option>
                                <option {{ estado == "PI" ? 'selected="selected"': '' }} value="PI">PI</option>
                                <option {{ estado == "RJ" ? 'selected="selected"': '' }} value="RJ">RJ</option>
                                <option {{ estado == "RN" ? 'selected="selected"': '' }} value="RN">RN</option>
                                <option {{ estado == "RS" ? 'selected="selected"': '' }} value="RS">RS</option>
                                <option {{ estado == "RO" ? 'selected="selected"': '' }} value="RO">RO</option>
                                <option {{ estado == "RR" ? 'selected="selected"': '' }} value="RR">RR</option>
                                <option {{ estado == "SC" ? 'selected="selected"': '' }} value="SC">SC</option>
                                <option {{ estado == "SP" ? 'selected="selected"': '' }} value="SP">SP</option>
                                <option {{ estado == "SE" ? 'selected="selected"': '' }} value="SE">SE</option>
                                <option {{ estado == "TO" ? 'selected="selected"': '' }} value="TO">TO</option>
                            </select>
                          </div>                       
                    </div>
                    <div class="row">
                        <div class="col-md-3 form-group">
                            <label class="col-12 col-form-label">Cobrar Tarifa <b>DOC?</b></label>
                            <div class="col-3">
                                <span class="switch">
                                    <label>
                                        <input type="checkbox"  {% if tarifa_doc == '1'%} checked {%endif%}  name="tarifa_doc"  value="1"/>
                                        <span></span>
                                    </label>
                                </span>
                            </div>                                                          
                        </div>
                    </div>

                    <br>
                    <hr>
                    <br>
                   
                    
                    <div class="row mt-4">
                        <div class="col-md-12">
                            <h4>Dados de Contato</h4><br>
                        </div>
                        <div class="col-md-6">
                            <div class="form-group">
                                <label>Celular:</label>
                                <input  type="tel" class="cel form-control form-control-solid form-control-lg" name="tel" id="tel" value="{{tel}}" />
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="form-group">
                                <label>Telefone:</label>
                                <input  type="tel" class="tel form-control form-control-solid form-control-lg" name="tel_2" id="tel_2" value="{{tel_2}}" />
                            </div>
                        </div>
                        
                    </div>

                    <div class="row">
                        <div class="col-md-6">
                            <div class="form-group">
                                <label>E-mail:</label>
                                <input  type="email" class="form-control form-control-solid form-control-lg" name="email" id="email" value="{{email}}" />
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="form-group">
                                <label>E-mail Alternativo:</label>
                                <input  type="email" class="form-control form-control-solid form-control-lg" name="email_alternativo" id="email_alternativo" value="{{email_alternativo}}" />
                            </div>
                        </div>
                        
                    </div>
                    <br>
                    <hr>
                    <br>
                    <div class="row">
                        <div class="col-md-12">
                            <h4>Dados Bancários</h4><br>
                        </div>

                        <div class="col-6">
                            <label>Tipo Pagamento:</label>
                            <select class="form-control form-control-solid form-control-lg" name="tipoPagamento" id="tipoPagamento">
                                <option {{ tipoPagamento == "ted" ? 'selected="selected"': '' }} value="ted">TED</option>
                                <option {{ tipoPagamento == "doc" ? 'selected="selected"': '' }} value="doc">DOC</option>
                                <option {{ tipoPagamento == "itau" ? 'selected="selected"': '' }} value="itau">ITAU</option>                                         
                            </select>
                        </div>
                    </div> 
                    <!-- <div class="row mt-4">
                        <div class="col-md-3">
                            <div class="form-group">
                                <label>Banco:</label>
                                <input  type='text' class="form-control form-control-solid form-control-lg" name="banco" id="banco" value="{{banco}}" />
                            </div>
                        </div>
                        <div class="col-md-3">
                            <div class="form-group">
                                <label>Agencia:</label>
                                <input  type='text' class="form-control form-control-solid form-control-lg" name="agencia" id="agencia" value="{{agencia}}" />
                            </div>
                        </div>
                        <div class="col-md-3">
                            <div class="form-group">
                                <label>Conta Corrente:</label>
                                <input  type='text' class="form-control form-control-solid form-control-lg" name="conta_corrente" value="{{conta_corrente}}" />
                            </div>
                        </div>
                        <div class="col-md-3">
                            <div class="form-group">
                                <label>Chave Pix:</label>
                                <input  type='text' class="form-control form-control-solid form-control-lg" name="pix" id="pix" value="{{pix}}" />
                            </div>
                        </div>
                    </div> -->
                    <br>
                    <hr>
                    <br>
                    <div class="row">
                        <div class="col-md-12">
                            <h4>Imóveis</h4><br>
                        </div>
                        <div class="col-xl-5">
                            <div class="form-group">
                                <label>Selecione imóveis para esse proprietário:</label>
                                <select class="form-control form-control-solid form-control-lg" id="imoveis" name="imoveis[]" multiple="multiple" ></select>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="card-footer">
                    <div class="row">
                        <div class="col-12" style="text-align: center;">
                            <button type="submit" class="btn btn-success mr-2">Salvar Proprietário</button>
                        </div>
                    </div>
                </div>
            </form>
            <hr>
            <div class="card-body">
                <h3>Imoveis vinculados a esse Proprietário</h3>
                <!--begin: Datatable-->
                <table class="table table-bordered table-hover table-checkable" id="kt_datatable" style="margin-top: 13px !important">
                    <thead>
                        <tr>
                            <th>Código</th>
                            <th>Endereço</th>        
                            <th>Ação</th>
                        </tr>
                    </thead>
                    <tbody>

                    </tbody>
                </table>
                <!--end: Datatable-->
            </div>
        </div>
        <!--end::Card-->
    </div>
</div>

{% endblock %}
{% block link_stylesheet %}
    <link rel="stylesheet" href="https://cdn.datatables.net/1.10.22/css/dataTables.bootstrap4.min.css">
    <link rel="stylesheet" href="https://cdn.datatables.net/responsive/2.2.6/css/responsive.bootstrap4.min.css">
{% endblock %}
{% block extra_js_config %}
<script src="assets/plugins/custom/datatables/datatables.bundle.js?v=7.0.5"></script>
<script src="https://cdn.datatables.net/1.10.22/js/dataTables.bootstrap4.min.js"></script>
<script src="https://cdn.datatables.net/responsive/2.2.6/js/dataTables.responsive.min.js"></script>
<script src="https://cdn.datatables.net/responsive/2.2.6/js/responsive.bootstrap4.min.js"></script>
<script src="assets/js/pages/custom/proprietarios/main.js"></script>
<script src="assets/js/pages/custom/proprietarios/edit.js"></script>
<script src="assets/js/pages/custom/proprietarios/listImoveis.js"></script>
<script src="assets/js/pages/custom/maskmoney/jquery.maskMoney.min.js"></script>

<script>$(".money").maskMoney({allowNegative: false, thousands:'.', decimal:',', affixesStay: false});</script>
{% endblock %}